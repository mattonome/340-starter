

            <body>
                <main class="inventory-form">
                    <h1>
                        <%= title %>
                    </h1>

                    <!-- Flash / Message Handling -->
                    <% if (messages && Object.keys(messages).length> 0) { %>
                        <div id="flash-messages">
                            <% Object.keys(messages).forEach(function (key) { const msgs=Array.isArray(messages[key]) ?
                                messages[key] : [messages[key]]; const typeClass=key==='success_msg' ? 'success' :
                                key==='error_msg' ? 'error' : key; %>
                                <% msgs.forEach(function (message) { %>
                                    <div class="flash-item <%= typeClass %>">
                                        <span>
                                            <%= message %>
                                        </span>
                                        <button class="close-btn" onclick="this.parentElement.remove()">Ã—</button>
                                    </div>
                                    <% }) %>
                                        <% }) %>
                        </div>
                        <% } %>

                            <!-- Vehicle Form -->
                            <form action="<%= inv_id ? '/inv/update-inventory' : '/inv/add-inventory' %>" method="post">
                                <% if (inv_id) { %>
                                    <input type="hidden" name="inv_id" value="<%= inv_id %>">
                                    <% } %>

                                        <label for="classification_id">Classification:</label>
                                        <select name="classification_id" id="classification_id" required>
                                            <option value="">-- Select --</option>
                                            <% if (classifications && classifications.length> 0) { %>
                                                <% classifications.forEach(classification=> { %>
                                                    <option value="<%= classification.classification_id %>"
                                                        <%=classification_id==classification.classification_id
                                                        ? 'selected' : '' %>>
                                                        <%= classification.classification_name %>
                                                    </option>
                                                    <% }) %>
                                                        <% } %>
                                        </select>

                                        <label for="inv_make">Make:</label>
                                        <input type="text" name="inv_make" id="inv_make" value="<%= inv_make %>"
                                            required>

                                        <label for="inv_model">Model:</label>
                                        <input type="text" name="inv_model" id="inv_model" value="<%= inv_model %>"
                                            required>

                                        <label for="inv_year">Year:</label>
                                        <input type="number" name="inv_year" id="inv_year" value="<%= inv_year %>"
                                            required>

                                        <label for="inv_description">Description:</label>
                                        <textarea name="inv_description" id="inv_description"
                                            required><%= inv_description %></textarea>

                                        <label for="inv_image">Image Path:</label>
                                        <input type="text" name="inv_image" id="inv_image" value="<%= inv_image %>"
                                            required>

                                        <label for="inv_thumbnail">Thumbnail Path:</label>
                                        <input type="text" name="inv_thumbnail" id="inv_thumbnail"
                                            value="<%= inv_thumbnail %>" required>

                                        <label for="inv_price">Price:</label>
                                        <input type="number" name="inv_price" id="inv_price" value="<%= inv_price %>"
                                            required>

                                        <label for="inv_miles">Miles:</label>
                                        <input type="number" name="inv_miles" id="inv_miles" value="<%= inv_miles %>"
                                            required>

                                        <label for="inv_color">Color:</label>
                                        <input type="text" name="inv_color" id="inv_color" value="<%= inv_color %>"
                                            required>

                                        <button type="submit">
                                            <%= inv_id ? 'Update Vehicle' : 'Add Vehicle' %>
                                        </button>
                            </form>
                </main>

                <script>
                    setTimeout(() => {
                        const flashContainer = document.getElementById('flash-messages');
                        if (flashContainer) flashContainer.remove();
                    }, 5000);
                </script>
            </body>

            </html>